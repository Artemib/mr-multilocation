# MR Multilocation

WordPress плагин для мультирегионального контента с поддержкой поддоменов, папок и гибридного режима.

## Возможности

- **Мультирегиональная адресация**: Поддомены (sub.site.ru), папки (site.ru/sub/), гибридный режим
- **Динамический контент**: Шорткоды `[mr_name]`, `[mr_meta key="..."]`, `[show_if subdomain|folder|not_*]`
- **Виртуальный роутинг**: Автоматическое определение региона по URL и переписывание ссылок
- **Видимость контента**: Правила показа/скрытия по регионам для любых публичных типов записей
- **SEO**: Динамические sitemap.xml, robots.txt, canonical и hreflang
- **Аудит шорткодов**: Индексация и массовый перескан
- **URL Guard**: Блокировка зарезервированных slug и коллизий с WP
- **SPA-админка**: Vue 3 + Vite + Tailwind CSS

## Установка

1. Скопируйте папку плагина в `wp-content/plugins/`
2. Активируйте плагин в админке WordPress
3. Зайдите в настройки плагина и настройте режим работы

## Требования

- PHP 8.0+
- WordPress 5.0+
- Node.js 16+ (для сборки SPA админки)

## Разработка

### Сборка SPA админки

```bash
cd admin
npm install
npm run build
```

### Структура

```
mr-multilocation/
├── admin/              # SPA админка (Vue 3)
│   ├── src/           # Исходники Vue
│   └── dist/          # Собранные файлы (генерируется)
└── mr-multilocation.php  # Основной файл плагина
```

## Лицензия

GPL v2 или выше

